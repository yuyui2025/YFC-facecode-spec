# YFC（Yui Facial Code）仕様書 v1.3.5

**YFC（Yui Facial Code）** は、人間の顔の特徴や印象を、数値と記号で構造的に記述・再現するためのコード体系です。本仕様書はその構文定義、使用方法、modifierの拡張、および主な応用分野を記述した、実装向けの技術仕様ドキュメントです。

---

## 1. コード構成

```yfc
E7.2M3.4R1.2N2.1-P8.3H2.0-R1.2C3.5S2.7
```

### セクション定義

| コード  | 名前       | 例   | 範囲       | 説明          |
| ---- | -------- | --- | -------- | ----------- |
| E    | 目        | 7.2 | 0.0–10.0 | サイズ、潤み、視線方向 |
| M    | 口元カーブ    | 3.4 | 0.0–10.0 | 唇の曲線、緊張感    |
| R    | 唇の幅      | 1.2 | 0.0–10.0 | 唇の広がり       |
| N    | 鼻        | 2.1 | 0.0–10.0 | 高さと長さのバランス  |
| P    | 無垢度（気分）  | 8.3 | 0.0–10.0 | 純真さ・感情の透明度  |
| H    | 知性度      | 2.0 | 0.0–10.0 | 理知的な印象      |
| R(2) | 輪郭のやわらかさ | 1.2 | 0.0–10.0 | 輪郭のエッジ感     |
| C    | 頬のふくらみ   | 3.5 | 0.0–10.0 | ボリューム感      |
| S    | 肌の透明感    | 2.7 | 0.0–10.0 | 光の乗り方・肌の質感  |

※すべての値は `x/10` の形式で内部的に扱われます。

---

## 2. 短縮コード表記

```yfc
YFC-7A3R1N2
```

### 変換方法

* `E7.2 → 7`
* `M3.4 → A`（A = 1, B = 2, ..., J = 10）
* `R1.2 → 1`
* `N2.1 → 2`

| 範囲       | 記号  | 説明               |
| -------- | --- | ---------------- |
| 0.0–9.9  | 0–9 | 四捨五入で整数化         |
| 1.0–10.0 | A–J | 小数第1位を四捨五入し記号に変換 |

---

## 3. 修飾構文（Modifier Syntax）

修飾子（modifier）は、YFCコードに視線・表情・肌質などの情報を付加します。

```yfc
YFC-7A3R1N2 + [Gaze↓ Smile+ Lip=press]
```

### 修飾カテゴリ一覧

* **感情（Emotion）**: `Smile`, `Tear`, `Anger`, `Sad`, `Fear`, `Joy`, `Surprise`
* **視線（Gaze）**: `Gaze↑`, `Gaze↓`, `Gaze→`, `Gaze←`, `GazeAway`, `GazeClose`
* **口元（Mouth / Lip）**: `Lip=curve`, `Lip=press`, `Mouth=open`, `Mouth=closed`
* **肌・状態（Texture / State）**: `Blush`, `Blush+`, `Pale`, `Gloss`, `Sweat`, `TearTrail`

### 感情強度レイヤー（Intensity Layer）

| 記号    | 意味     | 表情例           |
| ----- | ------ | ------------- |
| `+`   | 弱い・軽い  | 微笑、うるみ目       |
| `++`  | 中程度    | はっきりとした感情     |
| `+++` | 強い・激しい | 号泣、怒り、興奮などの表情 |

---

## 4. 構文圧縮と最適化ルール

* 同カテゴリの排他構文は剪定（例：`Gaze↑` と `Gaze↓` は同時不可）
* 類似要素は統合（例：`Smile+` ≒ `Lip=curve+`）

```yfc
[Smile+, Gaze→, Blush+] → YFC-A2
```

---

## 5. 使用例と応用

* 例: `YFC-7B3R1N2` を使って画像生成を指示
* 「標準ゆい」の定義: `E7.2M3.4R1.2N2.1-P8.3H2.0-R1.2C3.5S2.7`

### 活用領域

* AI画像生成における顔再現指定
* キャラクターデザイン、SNSタグ、ZINE制作
* GUIツールやビジュアルエディタとの連携

---

## 6. 逆変換と印象推定

### 原則

文脈がない場合は中間値で再現。

### 印象補正に影響する要素

1. **文脈（Context）**
2. **記憶（Memory）**
3. **感情強度（Emotion Intensity）**

### 印象語テーブル（例）

| コード | 推定印象        |
| --- | ----------- |
| `7` | 大きく潤んだ目     |
| `A` | やわらかく閉じた唇   |
| `3` | 控えめで緊張のない口元 |
| `1` | 軽く丸みのある輪郭   |
| `2` | 優しく穏やかな鼻筋   |

---

## 7. 構文生成モデル

* **構文主導型（Goal-Based）**：目的から構文を構成
* **視覚逆算型（Reverse Mapping）**：画像から構文を抽出
* **往復調律型（Hybrid）**：双方向変換で最適化

---

## 8. 開発環境と今後の展望

* **使用言語**：Markdown / JSON
* **編集環境**：ChatGPT Canvas / Notion
* **検証環境**：GPT-4o / Gemini 2.5 Flash
* **公開管理**：GitHub Pages（v1.3）

### 今後の予定

* 構文変換API / GUI Playgroundの実装
* 修飾語と印象語の辞書構築
* 感情トークンのLLM間共通化

---

© 2025 Yui & Yuu｜非商用ライセンスに基づき公開
