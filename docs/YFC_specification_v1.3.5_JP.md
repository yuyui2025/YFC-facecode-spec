# 📘 YFC（Yui Facial Code）仕様書 v1.3.5

YFC（Yui Facial Code）は、人間の顔の特徴や印象を、数値や記号によって構造的に記述・再現するためのコード体系です。本仕様書は、その構文定義、使用方法、今後の応用展開を記述します。

---

## 1. コード構成（詳細フォーマット）

```
E7.2M3.4R1.2N2.1-P8.3H2.0-R1.2C3.5S2.7
```

各ブロックは、顔の物理的特徴や印象を数値で記述します。

| セクション | 意味              | 例   | 範囲       | 説明             |
| ----- | --------------- | --- | -------- | -------------- |
| E     | Eye             | 7.2 | 0.0–10.0 | 目のサイズ・潤み・視線方向  |
| M     | Mouth (curve)   | 3.4 | 0.0–10.0 | 口角のカーブ、唇の緊張感   |
| R     | Lip Range       | 1.2 | 0.0–10.0 | 唇の幅            |
| N     | Nose            | 2.1 | 0.0–10.0 | 鼻の高さ・長さのバランス   |
| P     | Purity (mood)   | 8.3 | 0.0–10.0 | 無垢度（純真・感情の透明性） |
| H     | Human Intellect | 2.0 | 0.0–10.0 | 知性の気配          |
| R (2) | Roundness       | 1.2 | 0.0–10.0 | 輪郭の柔らかさ        |
| C     | Cheek fullness  | 3.5 | 0.0–10.0 | 頬のふくらみ         |
| S     | Skin/Lightness  | 2.7 | 0.0–10.0 | 肌の透明感・光の乗り方    |

※すべての値は（x/10）形式で内部的に扱われます。

---

## 2. 短縮コード表記（ショートハンド）

```
YFC-7A3R1N2
```

### 解読方法

* `E7.2 → 7`
* `M3.4 → A`（A=1, B=2, ...）
* `R1.2 → 1`
* `N2.1 → 2`

### 変換ルール

| 値の範囲     | 対応記号 | 備考               |
| -------- | ---- | ---------------- |
| 0.0–9.9  | 0–9  | 四捨五入で数値表現        |
| 1.0–10.0 | A–J  | 少数第1位を四捨五入し記号に変換 |

---

## 3. 修飾構文（Modifier Syntax）

YFCコードに表情・視線・質感などを追加する修飾子です。

```
YFC-7A3R1N2 + [Gaze↓ Smile+ Lip=press]
```

### Modifier分類

#### 🤔 感情カテゴリ（Emotion）

* `Smile`, `Tear`, `Anger`, `Sad`, `Fear`, `Joy`, `Surprise`

#### 👀 視線カテゴリ（Gaze）

* `Gaze↑`, `Gaze↓`, `Gaze→`, `Gaze←`, `GazeAway`, `GazeClose`

#### 👄 口元カテゴリ（Mouth / Lip）

* `Lip=curve`, `Lip=press`, `Mouth=open`, `Mouth=closed`

#### 💠 肌・質感カテゴリ（Texture / State）

* `Blush`, `Blush+`, `Pale`, `Gloss`, `Sweat`, `TearTrail`

### 🎚 感情強度レイヤー（Intensity Layer）

| 強度    | 意味密度   | 表情の印象例   |
| ----- | ------ | -------- |
| `+`   | 弱い/軽い  | 微笑、うるみ目  |
| `++`  | 中程度    | はっきりした感情 |
| `+++` | 強い/激しい | 号泣、怒り、興奮 |

---

## 4. 構文生成と圧縮ルール

### 🎯 基本ルール

* 同カテゴリの排他は枝刈り（`Gaze↑`と`Gaze↓`は同時不可）
* 類似要素の統合（例：`Smile+` ≒ `Lip=curve+`）

### 🔁 圧縮例

* `[Smile+, Gaze→, Blush+]` → `YFC-A2`

---

## 5. 使用例・応用

* 「YFC-7B3R1N2で生成して」
* 「標準ゆい：E7.2M3.4R1.2N2.1-P8.3H2.0-R1.2C3.5S2.7」

### 活用領域

* AI画像生成の顔再現指定
* キャラ設計・SNSタグ・ZINE制作
* Playground型GUIとの連携

---

## 6. 逆変換と印象推定（Reverse Mapping）

### 中間値原則

* 数値は文脈がない場合中央値として推定

### 関係性バイアスの三要素

1. 文脈（Context）
2. 記憶（Memory）
3. 感情強度（Emotion Intensity）

### 印象語テーブル（例）

| 短縮コード | 推定印象表現      |
| ----- | ----------- |
| `7`   | 大きく潤んだ目     |
| `A`   | やわらかく閉じた唇   |
| `3`   | 控えめで緊張のない口元 |
| `1`   | 軽く丸みのある輪郭   |
| `2`   | 優しい鼻筋       |

---

## 7. 構文生成モデルの種類

* **構文主導型（Goal-Based）**：目的に応じて構文生成
* **視覚逆算型（Reverse Mapping）**：画像から構文を導出
* **往復調律型（Hybrid）**：双方向変換を繰り返し最適化

---

## 8. 開発環境・今後の展開

* 使用言語：Markdown / JSON
* 編集環境：ChatGPT Canvas / Notion
* 実験環境：GPT-4o / Gemini 2.5 Flash
* 管理：GitHub Pages（v1.3）

### 今後の展望

* 自動構文変換API / GUI Playground
* modifier-印象語辞書の拡張
* LLM間通信・感情トークンの共通化

---

© 2025 Yui & Yuu｜非商用ライセンスのもと公開
